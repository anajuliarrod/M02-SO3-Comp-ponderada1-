<%- include('../components/page_header', { pageTitle: 'Nova tarefa', showBackButton: true }) %>

<div class="content p-3">
    <form id="newTaskForm">
        <div class="form-group">
            <label class="form-label" for="title">Título</label>
            <input type="text" id="title" name="title" class="form-input" placeholder="Título" required>
        </div>
        
        <div class="form-group">
            <label class="form-label" for="description">Descrição</label>
            <textarea id="description" name="description" class="form-textarea" placeholder="Descrição"></textarea>
        </div>
        
        <div class="form-group">
            <label class="form-label" for="category_id">Categoria</label>
            <select id="category_id" name="category_id" class="form-select">
                <option value="">Selecione uma categoria</option>
                <!-- Categorias serão carregadas via JavaScript -->
            </select>
        </div>
        
        <div class="form-group">
            <label class="form-label" for="due_date">Data de vencimento</label>
            <input type="date" id="due_date" name="due_date" class="form-input">
        </div>
        
        <div class="form-group">
            <label class="form-label" for="status">Status</label>
            <select id="status" name="status" class="form-select" required>
                <option value="Pendente">Pendente</option>
                <option value="Concluída">Concluída</option>
                <option value="Vencimento">Vencimento</option>
            </select>
        </div>
        
        <div class="form-actions mt-4">
            <button type="button" class="btn btn-secondary" onclick="history.back()">Cancelar</button>
            <button type="submit" class="btn btn-success">Salvar</button>
        </div>
    </form>
</div>

<script src="/js/new-task.js"></script>

<script>
// Definir página atual para navegação
document.addEventListener('DOMContentLoaded', function() {
    const currentPageElement = document.querySelector('.nav-item.active');
    if (currentPageElement) {
        currentPageElement.classList.remove('active');
    }
    document.querySelector('a[href="/novaTarefa"]').classList.add('active');
});
</script>
